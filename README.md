# ChatGPTComplexQueryClient

Этот API является промежуточным клиентом ChatGPT API. Он формирует запросы к ChatGPT API на основе предустановленного в appsettings.json шаблона и запроса (или набора запросов)

# Использование:
1. Зарегистрироваться на https://platform.openai.com
2. Создать новый ключ API здесь: https://platform.openai.com/account/api-keys
3. Поместить сгенерированный ключ API в переменную среды `OPENAI_API_KEY`
4. Запустить приложение (http порт по умолчанию 5001)
5. Совершить запрос GET http://localhost:5001/api/ChatGptApi/Query?query=puppies
```
curl -X 'GET' \
  'http://localhost:5001/api/ChatGptApi/Query?query=puppies' \
  -H 'accept: */*'
```

# Эндпойнты
У этого приложения есть шесть эндпойнтов:
1. GET /api/ChatGptApi/QueriesAsStream
Получает массив строковых подзапросов, делает на их основе запрос к ChatGPT и возвращает ответ асинхронным потоком текста.
Входные данные: body, массив текстовых строк.
2. GET /api/ChatGptApi/QueryAsStream
Получает строковый запрос, делает на их основе запрос к ChatGPT и возвращает ответ асинхронным потоком текста.
Входные данные: url параметр, строка `query`.

3. GET /api/ChatGptApi/Queries
Получает массив строковых подзапросов, делает на их основе запрос к ChatGPT и возвращает ответ одной строкой, когда он будет готов.
Входные данные: body, массив текстовых строк.
4. GET /api/ChatGptApi/Query
Получает строковый запрос, делает на их основе запрос к ChatGPT и возвращает ответ одной строкой, когда он будет готов.
Входные данные: url параметр, строка `query`.

5. GET (CONNECT) /api/ChatGptApi/Query
Получает массив строковых подзапросов, делает на их основе запрос к ChatGPT, открывает вебсокет и возвращает ответ через него.
Входные данные: body, массив текстовых строк.
6. GET (CONNECT) /api/ChatGptApi/Query
Получает строковый запрос, делает на их основе запрос к ChatGPT, открывает вебсокет и возвращает ответ через него.
Входные данные: url параметр, строка `query`.

Эти методы выполняют одну и ту же работу, и различаются только форматами принимаемых и возвращаемых данных.

# appsettings.json
Настройка приложения происходит через параметры `appsettings.json`.
На данный момент 
